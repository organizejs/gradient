{% macro account_field() %}

{% endmacro %}

{% macro card_field(card, odd_or_even, is_default) %}
<div class="card-row {{ odd_or_even }}">
  <div class="card-icon card-row-el">
    {% if card.brand == "Visa" %}
    <i class="fab fa-cc-visa"></i>
    {% else %}
    <i class="fab fa-credit-card"></i>
    {% endif %}
  </div>
  <div class="card-last4 card-row-el">**** {{ card.last4 }} |</div>
  <div class="card-name card-row-el">{{ card.name }}</div>
  {% if is_default %}
  <div class="card-default card-row-el">(Default)</div>
  {% endif %}
  <div class="card-action card-row-el">
    <form action="{{ url_for('customer.remove_card') }}" method="post" id="remove-card-form">
      <input type="hidden" name="card_id" value="{{ card.id }}">
      <input type="submit" value="Remove Card">
    </form>
  </div>
</div>
{% endmacro %}

{% macro customer_purchase_field(transaction, odd_or_even) %}
<div class="transaction-cell {{ odd_or_even }}">
  <div class="transaction-col datetime">
    <div class="month">{{ transaction.updated_at.strftime('%b') }}</div>
    <div class="date">{{ transaction.updated_at.strftime('%d') }}</div>
  </div>
  <div class="transaction-col vendor">
    <div class="name">{{ transaction.products[0].vendor.company_name }}</div>
    {# TODO: vendor should have a 'type' associated to it #}
    <div class="sector">Publishing</div>
  </div>
  <div class="transaction-col product">
    <div class="price">-{{ transaction.total | currencyformat('USD') }}</div>
    <div class="skus">
      {% for product in transaction.products %}
      <span>{{ product.name }}</span> {% if not loop.last %},{% endif %}
      {% endfor %}
    </div>
  </div>
</div>
{% endmacro %}

{% macro vendor_purchase_field(transaction, odd_or_even) %} 
<div class="transaction-cell {{ odd_or_even }}">
  <div class="transaction-col datetime">
    <div class="month">{{ transaction.updated_at.strftime('%b') }}</div>
    <div class="date">{{ transaction.updated_at.strftime('%d') }}</div>
  </div>
  <div class="transaction-col data">
    <div>Customer Name: {{ transaction.customer.user.first_name }} {{ transaction.customer.user.last_name }}</div>
    <div>Customer ID: {{ transaction.customer.id }}</div>
    <div>Transaction ID: {{ transaction.id }}</div>
    <br>
    <div><u>Products</u></div>
    <div class="products">
      <div class="product-sku even">[SKU] Name</div>
      <div class="product-max-price even">Max Price</div>
      <div class="product-min-price even">Min Price</div>
      <div class="product-final-price even">Final Price</div>
      {% for gp in transaction.gradient_prices %}
      <div class="product-sku {{ loop.cycle('odd', 'even') }}">[{{ gp.product.sku }}] {{ gp.product.name }}</div>
      <div class="product-max-price {{ loop.cycle('odd', 'even') }}">{{ gp.max_price }}</div>
      <div class="product-min-price {{ loop.cycle('odd', 'even') }}">{{ gp.min_price }}</div>
      <div class="product-final-price {{ loop.cycle('odd', 'even') }}">{{ gp.price }}</div>
      {% endfor %}
    </div>
    <br>
    <div>Total:</div>
    <div>{{ transaction.total | currencyformat('USD') }}</div>
  </div>
</div>
{% endmacro %}
