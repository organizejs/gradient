{% from "modules/_account_fields.html" import vendor_purchase_field %}
{% extends 'vendor/account.html' %}
{% block account_content %}

<div id="purchases-module" class="content-pane active module">
  <div class="module">
    <div class="module-content">
      <div class="module-title"><h4>Purchases</h4></div>
    </div>
    <div id="purchases-content" class="module-content">
    {% if current_user.account.transactions and (current_user.account.transactions is defined) %} 
      <div class="transaction-grid">
      {% for transaction in current_user.account.transactions | reverse 
         if (transaction.status == transaction.Status.SUCCESS) %}
        {{ vendor_purchase_field(transaction, loop.cycle('odd', 'even')) }}
        
      {% endfor %}
      </div>
    {% else %}
      No purchases have been made.
    {% endif %}
    </div>
  </div>
</div>

{% endblock %}
