{% extends 'layout.html' %}
{% block content %}

  <div class="header mobile-only">
    <div class="user-greeting">
      <div class="user-icon">
        <img src="{{ url_for('static', filename='images/vendor-icon.svg') }}">
      </div>
    </div>
    <div class="user-nav">
      {% include "modules/_hamburger.html" %}   
    </div>
  </div>    
  
  <div id="account-content">
    {% set endpoint = request.url_rule.endpoint %}
    <div id="account-side-pane">
      <div class="user-greeting desktop-only">
        <div class="user-icon">
          <img src="{{ url_for('static', filename='images/vendor-icon.svg') }}">
        </div>
      </div>
      <a href="{{ url_for('vendor.purchases') }}">
        <div class="side-el {% if endpoint == 'vendor.purchases' %}active{% endif %}">Purchases</div>
      </a>
      <a href="{{ url_for('vendor.products') }}">
        <div class="side-el {% if (endpoint == 'vendor.products') or 
          (endpoint == 'vendor.add_product_form') or 
          (endpoint == 'vendor.edit_product_form') or 
          (endpoint == 'vendor.product') %}active{% endif %}">Products</div>
      </a>
      <a href="{{ url_for('vendor.settings') }}">
        <div class="side-el {% if endpoint == 'vendor.settings' %}active{% endif %}">Settings</div>
      </a>
      <br>
      <hr>
      <br>
      <div class="side-el">Send us feedback</div>
      <div class="side-el">Contact</div>
      <a href="{{ url_for('main.index') }}"><div class="side-el">Home Page</div></a>
      <a href="{{ url_for('security.logout') }}"><div class="side-el">Logout</div></a>
    </div>

    <div id="account-content-pane">
      {% if endpoint == 'vendor.purchases' %}
        {% include "account/vendor/_getting_started.html" %}
        {% include "account/vendor/_purchases.html" %}
      {% elif endpoint == 'vendor.settings' %}
        {% include "account/vendor/_getting_started.html" %}
        {% include "account/vendor/_settings.html" %}
      {% elif endpoint == 'vendor.products' %}
        {% include "account/vendor/_getting_started.html" %}
        {% include "account/vendor/_products.html" %}
      {% elif endpoint == 'vendor.add_product_form' %}
        {% include "account/vendor/_add_product_form.html" %}
      {% elif endpoint == 'vendor.edit_product_form' %}
        {% include "account/vendor/_edit_product_form.html" %}
      {% elif endpoint == 'vendor.product' %}
        {% include "account/vendor/_product.html" %}
      {% endif %}
    </div>
  </div>
  
{% endblock %}

{% block scripts %}
<script>
  setup_account();
</script>
{% endblock %}
