{% extends 'layout.html' %}
{% block content %}
<div class="contain">

  <div class="header">
    <div class="user-greeting">
      <div class="user-icon">
        <img src="{{ url_for('static', filename='images/vendor-icon.svg') }}">
      </div>
      <h4 class="user-text">
        <div id="home-name">
          {{ current_user.first_name }} {{ current_user.last_name }}
        </div>
      </h4>
    </div>
    <div class="user-nav mobile-only">
      {% include "modules/_hamburger.html" %}   
    </div>
  </div>    
  
  <div id="home-content">
    {% set endpoint = request.url_rule.endpoint %}
    <div id="home-side-pane">
      <a href="{{ url_for('vendor.purchases') }}">
        <div class="side-el {% if endpoint == 'vendor.purchases' %}active{% endif %}">Purchases</div>
      </a>
      <a href="{{ url_for('vendor.products') }}">
        <div class="side-el {% if (endpoint == 'vendor.products') or 
          (endpoint == 'vendor.add_product_form') or 
          (endpoint == 'vendor.edit_product_form') or 
          (endpoint == 'vendor.product') %}active{% endif %}">Products</div>
      </a>
      <a href="{{ url_for('vendor.settings') }}">
        <div class="side-el {% if endpoint == 'vendor.settings' %}active{% endif %}">Settings</div>
      </a>
      <br>
      <hr>
      <br>
      <div class="side-el">Send us feedback</div>
      <div class="side-el">Contact</div>
      <a href="{{ url_for('main.index') }}"><div class="side-el">Home Page</div></a>
      <a href="{{ url_for('security.logout') }}"><div class="side-el">Logout</div></a>
    </div>

    <div id="home-content-pane">
      {% if endpoint == 'vendor.purchases' %}
        {% include "account/vendor/_getting_started_module.html" %}
        {% include "account/vendor/_purchases_module.html" %}
      {% elif endpoint == 'vendor.settings' %}
        {% include "account/vendor/_getting_started_module.html" %}
        {% include "account/vendor/_settings_module.html" %}
      {% elif endpoint == 'vendor.products' %}
        {% include "account/vendor/_getting_started_module.html" %}
        {% include "account/vendor/_products_module.html" %}
      {% elif endpoint == 'vendor.add_product_form' %}
        {% include "account/vendor/_add_product_form_module.html" %}
      {% elif endpoint == 'vendor.edit_product_form' %}
        {% include "account/vendor/_edit_product_form_module.html" %}
      {% elif endpoint == 'vendor.product' %}
        {% include "account/vendor/_product_module.html" %}
      {% endif %}
    </div>
  </div>
  
</div>
{% endblock %}

{% block scripts %}
<script>
  setup_home();
</script>
{% endblock %}
